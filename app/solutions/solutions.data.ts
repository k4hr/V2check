// app/solutions/solutions.data.ts

export type SolutionMeta = {
  slug: string;
  title: string;
  category: string;
  keywords?: string[];
  /** при наличии используется вместо автогенерации */
  custom?: string;
};

// ===== Список решений (добавляйте новые записи сюда) =====
// Пример: { slug:'open-ip', title:'Как открыть ИП: пошагово', category:'Бизнес', keywords:['регистрация ИП','налоги'] }
export const SOLUTIONS: SolutionMeta[] = [
  // --- Потребитель ---
  { slug: 'claim-poor-service', title: 'Претензия за ненадлежащую услугу', category: 'Потребитель', keywords: ['претензия', 'услуга', 'ЗОЗПП'] },
  { slug: 'return-bad-goods', title: 'Возврат некачественного товара', category: 'Потребитель', keywords: ['возврат', 'товар', 'гарантия'] },
  { slug: 'online-order-claim', title: 'Спор с интернет-магазином', category: 'Потребитель', keywords: ['онлайн заказ', 'доставка', 'не привезли'] },
  { slug: 'flight-delay', title: 'Компенсация за задержку рейса', category: 'Потребитель', keywords: ['авиаперелёт', 'пассажир'] },
  { slug: 'hotel-cancel', title: 'Возврат денег за отмену брони отеля', category: 'Потребитель' },
  { slug: 'fitness-refund', title: 'Как вернуть деньги за абонемент в фитнес-клуб', category: 'Потребитель' },
  { slug: 'mobile-operator-claim', title: 'Спор с мобильным оператором (списания)', category: 'Потребитель' },
  { slug: 'utility-overcharge', title: 'Перерасчёт ЖКХ при завышенных начислениях', category: 'Потребитель' },
  { slug: 'warranty-repair', title: 'Требование гарантийного ремонта/замены', category: 'Потребитель' },
  { slug: 'fine-unlawful', title: 'Обжалование незаконного штрафа (парковка/транспорт)', category: 'Потребитель' },
  { slug: 'subscribe-cancel', title: 'Отмена платной подписки и возврат ошибочного списания', category: 'Потребитель' },
  { slug: 'tourist-claim', title: 'Претензия к туроператору', category: 'Потребитель' },

  // --- Банки/долги ---
  { slug: 'close-credit-correctly', title: 'Как правильно закрыть кредит', category: 'Банки и долги', keywords: ['закрытие кредита', 'справка об отсутствии задолженности'] },
  { slug: 'microloan-restructuring', title: 'Реструктуризация микрозайма', category: 'Банки и долги' },
  { slug: 'collection-stop', title: 'Как законно ограничить звонки коллекторов', category: 'Банки и долги' },
  { slug: 'dispute-bank-fee', title: 'Оспаривание комиссии банка', category: 'Банки и долги' },
  { slug: 'chargeback', title: 'Чарджбэк: как вернуть деньги по карте', category: 'Банки и долги' },
  { slug: 'credit-history-fix', title: 'Как исправить кредитную историю', category: 'Банки и долги' },

  // --- Бизнес ---
  { slug: 'open-ip', title: 'Как открыть ИП: пошагово', category: 'Бизнес', keywords: ['регистрация ИП', 'налоги'] },
  { slug: 'close-ip', title: 'Закрытие ИП: пошагово', category: 'Бизнес' },
  { slug: 'choose-tax', title: 'Выбор системы налогообложения (УСН/ПСН/НПД)', category: 'Бизнес' },
  { slug: 'contract-safe', title: 'Как безопасно заключать договор с клиентом', category: 'Бизнес' },
  { slug: 'act-and-invoice', title: 'Счёт, акт, первичные документы: как оформлять', category: 'Бизнес' },
  { slug: 'staff-hire', title: 'Приём сотрудника: документы и риски', category: 'Бизнес' },
  { slug: 'staff-fire', title: 'Увольнение сотрудника без споров', category: 'Бизнес' },

  // --- Недвижимость ---
  { slug: 'rent-agreement', title: 'Договор аренды квартиры: готовая схема', category: 'Недвижимость' },
  { slug: 'deposit-return', title: 'Как вернуть залог у наймодателя/нанимателя', category: 'Недвижимость' },
  { slug: 'neighbors-noise', title: 'Алгоритм при шумных соседях', category: 'Недвижимость' },
  { slug: 'hoa-dispute', title: 'Спор с УК/ТСЖ: перерасчёт, акты', category: 'Недвижимость' },

  // --- Работа ---
  { slug: 'salary-debt', title: 'Задержка зарплаты: как действовать', category: 'Работа' },
  { slug: 'illegal-dismissal', title: 'Незаконное увольнение: алгоритм защиты', category: 'Работа' },
  { slug: 'remote-contract', title: 'Правильно оформляем удалённую работу', category: 'Работа' },

  // --- Авто/штрафы ---
  { slug: 'accident-europrotocol', title: 'ДТП и европротокол: шаги и документы', category: 'Авто' },
  { slug: 'wrong-parking-fine', title: 'Обжалование штрафа за парковку', category: 'Авто' },
  { slug: 'car-service-claim', title: 'Претензия к автосервису', category: 'Авто' },

  // --- Семья ---
  { slug: 'alimony-collect', title: 'Как взыскать алименты', category: 'Семья' },
  { slug: 'divorce-simple', title: 'Простой развод без споров: что сделать', category: 'Семья' },
  { slug: 'division-property', title: 'Раздел имущества: мирно и через суд', category: 'Семья' },
];

// ===== Генератор контента по шаблону =====

export function buildContent(meta: SolutionMeta): string {
  if (meta.custom) return meta.custom;

  const t = meta.title;
  const c = meta.category;

  return [
    `**Что это**\n${t} — типовая ситуация из категории «${c}». Ниже — краткая памятка: когда применять и как действовать.`,
    `**Когда применять**\n— Ситуация соответствует заголовку (см. описание в карточке).\n— У вас есть базовые документы/доказательства (чеки, переписка, фото и т.п.).`,
    `**Пошаговый алгоритм**\n1) Зафиксируйте факты/доказательства (фото, видео, переписка, чеки).\n2) Подготовьте досудебное обращение/претензию (шаблон внутри Juristum).\n3) Направьте обращение надлежащему адресату (лично, почтой, через ЛК/почту организации).\n4) Выдержите срок ответа (обычно 10–30 дней; уточняйте по ситуации).\n5) При отказе — подайте жалобу/претензию выше/в контролирующий орган.\n6) При необходимости — иск в суд (подсудность, госпошлина, приложения).`,
    `**Документы и доказательства**\n— Паспорт, договор/чек/акт/квитанции.\n— Переписка, записи звонков (если законно), фото/видео.\n— Ответы организации/оператора, акты осмотра/экспертизы.\n— Реквизиты для перечисления денежных средств.`,
    `**Частые ошибки**\n— Нет досудебной претензии.\n— Неверный адресат/сроки.\n— Недостаточно доказательств.\n— Эмоциональные формулировки вместо фактов и ссылок на нормы.`,
    `**Что сделать в Juristum**\n— Создайте дело → используйте «Пошаговые действия». \n— Сохраните доказательства и сроки в таймлайне.\n— Сформируйте претензию/заявление по шаблону.\n— Получите разбор от ассистента и проверьте чек-лист.`,
  ].join('\n\n');
}

// ===== Хелперы =====

export function getSolutionBySlug(slug: string) {
  return SOLUTIONS.find((x) => x.slug === slug);
}
